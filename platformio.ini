; =============================================================================
; PRODUCTION BUILD - Optimized for deployment
; Balances size, performance, and reliability
; Board: Heltec CubeCell HTCC-AB02A (cubecell_board is the generic identifier)
; =============================================================================
[env:cubecell_board]
platform = heltec-cubecell
board = cubecell_board
framework = arduino
monitor_speed = 115200
build_flags = 
    ; Optimization level
    -O2                         ; Optimize for performance without excessive size increase
    
    ; Size reduction flags (safe with pre-compiled libraries)
    -fno-exceptions             ; Disable C++ exceptions (saves ~2-5KB)
    -fno-rtti                   ; Disable runtime type info (saves ~1-2KB)
    -fno-threadsafe-statics     ; No thread-safe static initialization
    -fmerge-all-constants       ; Merge identical constants
    
    ; Performance optimizations
    -ffast-math                 ; Fast floating-point math (critical for delay calculations)
    -finline-functions          ; Inline small functions
    -finline-limit=30           ; Reasonable inlining limit
    -fomit-frame-pointer        ; Free up register for better performance
    
    ; Standards and warnings
    -std=gnu++11                ; C++11 standard
    -Wall                       ; Enable warnings
    -Wextra                     ; Extra warnings
    -Wno-unused-parameter       ; Suppress unused param warnings (callbacks)

; =============================================================================
; DEBUG BUILD - For development with logging enabled
; Board: Heltec CubeCell HTCC-AB02A (cubecell_board is the generic identifier)
; =============================================================================
[env:cubecell_board_debug]
platform = heltec-cubecell
board = cubecell_board
framework = arduino
monitor_speed = 115200
build_flags = 
    ; Logging enabled but keep it compact
    -DENABLE_LOGGING            ; Enable logging macros
    
    ; Same optimizations as production for size
    -O2                         ; Optimize for size/performance
    -fno-exceptions
    -fno-rtti
    -fno-threadsafe-statics
    -fmerge-all-constants
    -ffast-math
    -finline-functions
    -finline-limit=30
    -fomit-frame-pointer
    
    ; Standards and warnings
    -std=gnu++11
    -Wall
    -Wextra
    -Wno-unused-parameter
